const {
  assign: _obj_assign,
  defineProperties: _obj_props,
} = Object;

const is_ao_iter = g =>
  null != g[Symbol.asyncIterator];

const _is_fn = v_fn =>
  'function' === typeof v_fn
    && ! is_ao_iter(v_fn);

const ao_sym_done = Symbol('ao_done');

function ao_fence_v() {
  let p=0, _resume = ()=>{};
  let _pset = a => _resume = a;

  return [
    () => 0 !== p ? p
      : p = new Promise(_pset)

  , v => {p = 0; _resume(v);} ] }



const _ao_fence_api ={
  stop() {this.fence.done = true;}

, ao_fork() {
    return ao_fence_fork(this.fence)}

, [Symbol.asyncIterator]() {
    return this.ao_fork()} };

function ao_fence_fn(tgt) {
  let f = ao_fence_v();
  if (undefined === tgt) {tgt = f[0];}
  tgt.fence = _obj_assign(tgt, _ao_fence_api);
  return f}


async function * ao_fence_fork(fence) {
  while (! fence.done) {
    let v = await fence();
    if (fence.done || v === ao_sym_done) {
      return v}
    yield v;} }


async function * _ao_fence_loop(fence, reset, xform) {
  try {
    let v;
    while (! fence.done) {
      v = await fence();
      if (v === ao_sym_done) {
        return}

      v = yield v;
      if (undefined !== xform) {
        v = await xform(v);}
      reset(v); } }
  finally {
    reset(ao_sym_done);} }

function ao_queue(xform) {
  let [fence, out_reset] = ao_fence_fn();
  let [in_fence, in_reset] = ao_fence_v();

  let ag_out = _ao_fence_loop(fence, in_reset);
  let g_in = _ao_fence_loop(in_fence, out_reset, xform);

  // allow g_in to initialize
  g_in.next() ; in_reset();
  return _obj_assign(ag_out, {fence, g_in}) }

function ao_interval(ms=1000) {
  let [_fence, _reset] = ao_fence_fn();
  let tid = setInterval(_reset, ms, 1);
  if (tid.unref) {tid.unref();}
  _fence.stop = (() => {
    tid = clearInterval(tid);
    _fence.done = true;});
  return _fence}


async function * ao_times(gen_in) {
  let ts0 = Date.now();
  for await (let v of gen_in) {
    yield Date.now() - ts0;} }

const _evt_init = Promise.resolve({type:'init'});
function ao_dom_listen(pipe = ao_queue()) {
  let with_dom = (dom, fn) =>
    dom.addEventListener
      ? _ao_with_dom(_bind, fn, dom)
      : _ao_with_dom_vec(_bind, fn, dom);

  _bind.self = {pipe, with_dom};
  pipe.with_dom = with_dom;
  return pipe

  function _bind(dom, fn_evt, fn_dom) {
    return evt => {
      let v = fn_evt
        ? fn_evt(evt, dom, fn_dom)
        : fn_dom(dom, evt);

      if (null != v) {
        pipe.g_in.next(v);} } } }


function _ao_with_dom(_bind, fn, dom) {
  let _on_evt;
  if (_is_fn(fn)) {
    _evt_init.then(
      _on_evt = _bind(dom, void 0, fn)); }

  return {
    __proto__: _bind.self
  , listen(...args) {
      let opt, evt_fn = _on_evt;

      let last = args.pop();
      if ('function' === typeof last) {
        evt_fn = _bind(dom, last, _on_evt);
        last = args.pop();}

      if ('string' === typeof last) {
        args.push(last);}
      else opt = last;

      for (let evt of args) {
        dom.addEventListener(
          evt, evt_fn, opt); }

      return this} } }


function _ao_with_dom_vec(_bind, fn, ectx_list) {
  ectx_list = Array.from(ectx_list,
    dom => _ao_with_dom(_bind, fn, dom));

  return {
    __proto__: _bind.self
  , listen(...args) {
      for (let ectx of ectx_list) {
        ectx.listen(...args);}
      return this} } }

const ao_tgt = ao_dom_listen();

ao_tgt
  .with_dom(window)
  .listen('storage', evt => {
    let {key, oldValue, newValue, url} = evt;
    return {key, oldValue, newValue, url} } );


{(async ()=>{
  let el_output = document.querySelector('output');
  for await (let e of ao_tgt) {
    console.log('ao_tgt:', e);

    let el_pre = document.createElement('pre');
    el_pre.textContent = JSON.stringify(e, null, 2);
    el_output.appendChild(el_pre);} })();}


{(async ()=>{
  let tab_id = Math.random().toString(36).slice(2);
  for await (let ts of ao_times(ao_interval(1000)) ) {
    localStorage.setItem(tab_id,[tab_id, ts]); } })();}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tX3N0b3JhZ2UubWpzIiwic291cmNlcyI6WyIuLi8uLi9lc20vcm9hcC5tanMiLCIuLi9kb21fc3RvcmFnZS5qc3kiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge1xuICBhc3NpZ246IF9vYmpfYXNzaWduLFxuICBkZWZpbmVQcm9wZXJ0aWVzOiBfb2JqX3Byb3BzLFxufSA9IE9iamVjdDtcblxuY29uc3QgaXNfYW9faXRlciA9IGcgPT5cbiAgbnVsbCAhPSBnW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtcblxuY29uc3QgX2lzX2ZuID0gdl9mbiA9PlxuICAnZnVuY3Rpb24nID09PSB0eXBlb2Ygdl9mblxuICAgICYmICEgaXNfYW9faXRlcih2X2ZuKTtcbmNvbnN0IF9yZXRfaWRlbnQgPSB2ID0+IHY7XG5cbmNvbnN0IF94aW52b2tlID0gdl9mbiA9PlxuICBfaXNfZm4odl9mbilcbiAgICA/IHZfZm4oKVxuICAgIDogdl9mbjtcblxuZnVuY3Rpb24gX3hwaXBlX3RndChwaXBlKSB7XG4gIGlmIChfaXNfZm4ocGlwZSkpIHtcbiAgICBwaXBlID0gcGlwZSgpO1xuICAgIHBpcGUubmV4dCgpO1xuICAgIHJldHVybiBwaXBlfVxuXG4gIHJldHVybiBwaXBlLmdfaW4gfHwgcGlwZX1cbmZ1bmN0aW9uICogaXRlcihnZW5faW4pIHtcbiAgeWllbGQgKiBfeGludm9rZShnZW5faW4pO31cbmFzeW5jIGZ1bmN0aW9uICogYW9faXRlcihnZW5faW4pIHtcbiAgeWllbGQgKiBfeGludm9rZShnZW5faW4pO31cblxuXG5mdW5jdGlvbiBmbl9jaGFpbih0YWlsLCBjdHgpIHtcbiAgcmV0dXJuIF9vYmpfYXNzaWduKGNoYWluLCB7Y2hhaW4sIHRhaWx9KVxuICBmdW5jdGlvbiBjaGFpbihmbikge1xuICAgIGNoYWluLnRhaWwgPSBmbihjaGFpbi50YWlsLCBjdHgpO1xuICAgIHJldHVybiBjaGFpbn0gfVxuXG5jb25zdCBhb19kZWZlcnJlZF92ID0gKCgoKSA9PiB7XG4gIGxldCB5LG4sX3BzZXQgPSAoYSxiKSA9PiB7IHk9YSwgbj1iOyB9O1xuICByZXR1cm4gcCA9PihcbiAgICBwID0gbmV3IFByb21pc2UoX3BzZXQpXG4gICwgW3AsIHksIG5dKSB9KSgpKTtcblxuY29uc3QgYW9fZGVmZXJyZWQgPSB2ID0+KFxuICB2ID0gYW9fZGVmZXJyZWRfdigpXG4sIHtwcm9taXNlOiB2WzBdLCByZXNvbHZlOiB2WzFdLCByZWplY3Q6IHZbMl19KTtcblxuY29uc3QgYW9fc3ltX2RvbmUgPSBTeW1ib2woJ2FvX2RvbmUnKTtcblxuZnVuY3Rpb24gYW9fZmVuY2VfdigpIHtcbiAgbGV0IHA9MCwgX3Jlc3VtZSA9ICgpPT57fTtcbiAgbGV0IF9wc2V0ID0gYSA9PiBfcmVzdW1lID0gYTtcblxuICByZXR1cm4gW1xuICAgICgpID0+IDAgIT09IHAgPyBwXG4gICAgICA6IHAgPSBuZXcgUHJvbWlzZShfcHNldClcblxuICAsIHYgPT4ge3AgPSAwOyBfcmVzdW1lKHYpO30gXSB9XG5cblxuXG5jb25zdCBfYW9fZmVuY2VfYXBpID17XG4gIHN0b3AoKSB7dGhpcy5mZW5jZS5kb25lID0gdHJ1ZTt9XG5cbiwgYW9fZm9yaygpIHtcbiAgICByZXR1cm4gYW9fZmVuY2VfZm9yayh0aGlzLmZlbmNlKX1cblxuLCBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIHJldHVybiB0aGlzLmFvX2ZvcmsoKX0gfTtcblxuZnVuY3Rpb24gYW9fZmVuY2VfZm4odGd0KSB7XG4gIGxldCBmID0gYW9fZmVuY2VfdigpO1xuICBpZiAodW5kZWZpbmVkID09PSB0Z3QpIHt0Z3QgPSBmWzBdO31cbiAgdGd0LmZlbmNlID0gX29ial9hc3NpZ24odGd0LCBfYW9fZmVuY2VfYXBpKTtcbiAgcmV0dXJuIGZ9XG5cbmZ1bmN0aW9uIGFvX2ZlbmNlX29iaih0Z3QpIHtcbiAgbGV0IGYgPSBhb19mZW5jZV9mbih0Z3QpO1xuICByZXR1cm4ge19fcHJvdG9fXzogX2FvX2ZlbmNlX2FwaVxuICAsIGZlbmNlOiB0Z3QgfHwgZlswXSwgcmVzZXQ6IGZbMV19IH1cblxuXG5hc3luYyBmdW5jdGlvbiAqIGFvX2ZlbmNlX2ZvcmsoZmVuY2UpIHtcbiAgd2hpbGUgKCEgZmVuY2UuZG9uZSkge1xuICAgIGxldCB2ID0gYXdhaXQgZmVuY2UoKTtcbiAgICBpZiAoZmVuY2UuZG9uZSB8fCB2ID09PSBhb19zeW1fZG9uZSkge1xuICAgICAgcmV0dXJuIHZ9XG4gICAgeWllbGQgdjt9IH1cblxuXG5hc3luYyBmdW5jdGlvbiAqIF9hb19mZW5jZV9sb29wKGZlbmNlLCByZXNldCwgeGZvcm0pIHtcbiAgdHJ5IHtcbiAgICBsZXQgdjtcbiAgICB3aGlsZSAoISBmZW5jZS5kb25lKSB7XG4gICAgICB2ID0gYXdhaXQgZmVuY2UoKTtcbiAgICAgIGlmICh2ID09PSBhb19zeW1fZG9uZSkge1xuICAgICAgICByZXR1cm59XG5cbiAgICAgIHYgPSB5aWVsZCB2O1xuICAgICAgaWYgKHVuZGVmaW5lZCAhPT0geGZvcm0pIHtcbiAgICAgICAgdiA9IGF3YWl0IHhmb3JtKHYpO31cbiAgICAgIHJlc2V0KHYpOyB9IH1cbiAgZmluYWxseSB7XG4gICAgcmVzZXQoYW9fc3ltX2RvbmUpO30gfVxuXG5hc3luYyBmdW5jdGlvbiBhb19ydW4oZ2VuX2luLCBub3RpZnk9X3JldF9pZGVudCkge1xuICBmb3IgYXdhaXQgKGxldCB2IG9mIF94aW52b2tlKGdlbl9pbikpIHtcbiAgICBub3RpZnkodik7fSB9XG5cblxuYXN5bmMgZnVuY3Rpb24gYW9fZHJpdmUoZ2VuX2luLCBnZW5fdGd0LCB4Zm9ybT1fcmV0X2lkZW50KSB7XG4gIGdlbl90Z3QgPSBfeHBpcGVfdGd0KGdlbl90Z3QpO1xuICBmb3IgYXdhaXQgKGxldCB2IG9mIF94aW52b2tlKGdlbl9pbikpIHtcbiAgICBpZiAodW5kZWZpbmVkICE9PSBnZW5fdGd0KSB7XG4gICAgICB2ID0geGZvcm0odik7XG4gICAgICBsZXQge2RvbmV9ID0gYXdhaXQgZ2VuX3RndC5uZXh0KHYpO1xuICAgICAgaWYgKGRvbmUpIHticmVha30gfSB9IH1cblxuXG5mdW5jdGlvbiBhb19zdGVwX2l0ZXIoaXRlcmFibGUsIG11bHRpcGxlKSB7XG4gIGl0ZXJhYmxlID0gYW9faXRlcihpdGVyYWJsZSk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgKiBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgZG8ge1xuICAgICAgICBsZXQge3ZhbHVlfSA9IGF3YWl0IGl0ZXJhYmxlLm5leHQoKTtcbiAgICAgICAgeWllbGQgdmFsdWU7fVxuICAgICAgd2hpbGUgKG11bHRpcGxlKSB9IH0gfVxuXG5cbmZ1bmN0aW9uIHN0ZXBfaXRlcihpdGVyYWJsZSwgbXVsdGlwbGUpIHtcbiAgaXRlcmFibGUgPSBpdGVyKGl0ZXJhYmxlKTtcbiAgcmV0dXJuIHtcbiAgICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGxldCB7dmFsdWV9ID0gaXRlcmFibGUubmV4dCgpO1xuICAgICAgICB5aWVsZCB2YWx1ZTt9XG4gICAgICB3aGlsZSAobXVsdGlwbGUpIH0gfSB9XG5cbmZ1bmN0aW9uIGFvX2ZvcmsoKSB7XG4gIHJldHVybiBhb19mZW5jZV9mb3JrKHRoaXMuZmVuY2UpfVxuXG5jb25zdCBfYW9fdGFwX3Byb3BzID17XG4gIGFvX2Zvcms6e3ZhbHVlOiBhb19mb3JrfVxuLCBjaGFpbjp7Z2V0KCkge1xuICAgIHJldHVybiBmbl9jaGFpbih0aGlzLCB0aGlzKX0gfSB9O1xuXG5mdW5jdGlvbiBhb190YXAoYWdfb3V0KSB7XG4gIHJldHVybiBfb2JqX3Byb3BzKF9hb190YXAoYWdfb3V0KSwgX2FvX3RhcF9wcm9wcykgfVxuXG5mdW5jdGlvbiBfYW9fdGFwKGFnX291dCkge1xuICBsZXQgW2ZlbmNlLCByZXNldF0gPSBhb19mZW5jZV92KCk7XG4gIGxldCBnZW4gPSAoKGFzeW5jIGZ1bmN0aW9uICogKCkge1xuICAgIGZlbmNlLmRvbmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgZm9yIGF3YWl0IChsZXQgdiBvZiBfeGludm9rZShhZ19vdXQpKSB7XG4gICAgICAgIHJlc2V0KHYpO1xuICAgICAgICB5aWVsZCB2O30gfVxuICAgIGZpbmFsbHkge1xuICAgICAgZmVuY2UuZG9uZSA9IHRydWU7XG4gICAgICByZXNldCgpO30gfSkuY2FsbCh0aGlzKSk7XG5cbiAgZ2VuLmZlbmNlID0gZmVuY2U7XG4gIHJldHVybiBnZW59XG5cblxuXG5jb25zdCBfYW9fc3BsaXRfYXBpID17XG4gIGdldCBjaGFpbigpIHtcbiAgICByZXR1cm4gZm5fY2hhaW4odGhpcywgdGhpcyl9XG4sIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06IGFvX2ZvcmtcbiwgYW9fZm9ya307XG5cbmZ1bmN0aW9uIGFvX3NwbGl0KGFnX291dCkge1xuICBsZXQgZ2VuID0gX2FvX3RhcChhZ19vdXQpO1xuICByZXR1cm4ge1xuICAgIF9fcHJvdG9fXzogX2FvX3NwbGl0X2FwaVxuICAsIGZpbjogYW9fcnVuKGdlbilcbiAgLCBmZW5jZTogZ2VuLmZlbmNlfSB9XG5cbmZ1bmN0aW9uIGFvX3F1ZXVlKHhmb3JtKSB7XG4gIGxldCBbZmVuY2UsIG91dF9yZXNldF0gPSBhb19mZW5jZV9mbigpO1xuICBsZXQgW2luX2ZlbmNlLCBpbl9yZXNldF0gPSBhb19mZW5jZV92KCk7XG5cbiAgbGV0IGFnX291dCA9IF9hb19mZW5jZV9sb29wKGZlbmNlLCBpbl9yZXNldCk7XG4gIGxldCBnX2luID0gX2FvX2ZlbmNlX2xvb3AoaW5fZmVuY2UsIG91dF9yZXNldCwgeGZvcm0pO1xuXG4gIC8vIGFsbG93IGdfaW4gdG8gaW5pdGlhbGl6ZVxuICBnX2luLm5leHQoKSA7IGluX3Jlc2V0KCk7XG4gIHJldHVybiBfb2JqX2Fzc2lnbihhZ19vdXQsIHtmZW5jZSwgZ19pbn0pIH1cblxuY29uc3QgX2FzX3BpcGVfZW5kID0gKGcsbnMpID0+IF9vYmpfYXNzaWduKGcsIG5zKTtcblxuLy9+fn5cbi8vIFBpcGUgYmFzZSBhcyBnZW5lcmF0b3IgaW4gY29tcG9zZWQgb2JqZWN0LWZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb25cblxuY29uc3QgX2FvX3BpcGVfYmFzZSA9e1xuICB4Zm9sZDogdiA9PiB2IC8vIG9uIHB1c2g6IGlkZW50aXR5IHRyYW5zZm9ybVxuLCB4cHVsbCgpIHt9IC8vIG1lbW9yeTogbm9uZVxuLCB4ZW1pdDogX3hpbnZva2UgLy8gaWRlbnRpdHkgdHJhbnNmb3JtIG9yIGludm9rZSBpZiBmdW5jdGlvblxuLCB4aW5pdChnX2luLCBhZ19vdXQpIHt9IC8vIG9uIGluaXQ6IGRlZmF1bHQgYmVoYXZpb3JcblxuLCBnZXQgY3JlYXRlKCkge1xuICAgIC8vIGFzIGdldHRlciB0byBiaW5kIGNsYXNzIGFzIGB0aGlzYCBhdCBhY2Nlc3MgdGltZVxuICAgIGNvbnN0IGNyZWF0ZSA9ICguLi4gYXJncykgPT5cbiAgICAgIF9vYmpfYXNzaWduKHtfX3Byb3RvX186IHRoaXN9LFxuICAgICAgICAuLi4gYXJncy5tYXAoX3hpbnZva2UpKVxuICAgICAgLl9hb19waXBlKCk7XG5cbiAgICByZXR1cm4gY3JlYXRlLmNyZWF0ZSA9IGNyZWF0ZX1cblxuLCBfYW9fcGlwZSgpIHtcbiAgICBsZXQgZmluX2xzdCA9IFtdO1xuXG4gICAgbGV0IG9uX2ZpbiA9IHRoaXMub25fZmluID1cbiAgICAgIGcgPT4oZmluX2xzdC5wdXNoKGcpLCBnKTtcblxuICAgIGxldCBzdG9wID0gdGhpcy5zdG9wID0gKCgpID0+IHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICBfZmluX3BpcGUoZmluX2xzdCk7XG4gICAgICB0aGlzLl9yZXN1bWUoKTt9KTtcblxuXG4gICAgbGV0IGdfaW4gPSBvbl9maW4oXG4gICAgICB0aGlzLl9hb19waXBlX2luKCkpO1xuXG4gICAgbGV0IGFnX291dCA9IG9uX2ZpbihcbiAgICAgIHRoaXMuX2FvX3BpcGVfb3V0KCkpO1xuXG4gICAgLy8gYWRhcHQgYWdfb3V0IGJ5IGFwaSBhbmQga2luZFxuICAgIGxldCBzZWxmID0ge3N0b3AsIG9uX2ZpbiwgZ19pbn07XG4gICAgYWdfb3V0ID0gdGhpcy5fYXNfcGlwZV9vdXQoXG4gICAgICBhZ19vdXQsIHNlbGYsIHRoaXMua2luZCk7XG5cbiAgICBhZ19vdXQgPSB0aGlzLnhpbml0KGdfaW4sIGFnX291dCkgfHwgYWdfb3V0O1xuXG4gICAgLy8gYWxsb3cgZ19pbiB0byBpbml0aWFsaXplXG4gICAgZ19pbi5uZXh0KCk7XG4gICAgcmV0dXJuIGFnX291dH1cblxuLCBfYXNfcGlwZV9vdXQ6IF9hc19waXBlX2VuZFxuXG4sIC8vfn5+XG4gIC8vIFVwc3RyZWFtIGlucHV0IGdlbmVyYXRvclxuICAvLyAgIGRlc2lnbmVkIGZvciBtdWx0aXBsZSBmZWVkZXJzXG5cbiAgKl9hb19waXBlX2luKCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgdjtcbiAgICAgIHdoaWxlICghIHRoaXMuZG9uZSkge1xuICAgICAgICB2ID0gdGhpcy54Zm9sZCh5aWVsZCB2KTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHY7XG4gICAgICAgIGlmICgwICE9PSB0aGlzLl93YWl0aW5nICYmIHVuZGVmaW5lZCAhPT0gdikge1xuICAgICAgICAgIHRoaXMuX3Jlc3VtZSgpO30gfSB9XG5cbiAgICBmaW5hbGx5IHtcbiAgICAgIHRoaXMuc3RvcCgpO30gfVxuXG5cbiwgLy9+fn5cbiAgLy8gRG93bnN0cmVhbSBhc3luYyBvdXRwdXQgZ2VuZXJhdG9yXG4gIC8vICAgZGVzaWduZWQgZm9yIHNpbmdsZSBjb25zdW1lci5cblxuICBhc3luYyAqX2FvX3BpcGVfb3V0KCkge1xuICAgIHRyeSB7XG4gICAgICBsZXQgcjtcbiAgICAgIHdoaWxlICghIHRoaXMuZG9uZSkge1xuICAgICAgICBpZiAoMCAhPT0gKHIgPSB0aGlzLl93YWl0aW5nKSkge1xuICAgICAgICAgIC8vIHAwOiBleGlzdGluZyB3YWl0ZXJzXG4gICAgICAgICAgciA9IGF3YWl0IHI7XG4gICAgICAgICAgaWYgKHRoaXMuZG9uZSkge2JyZWFrfSB9XG4gICAgICAgIGVsc2UgaWYgKHVuZGVmaW5lZCAhPT0gKHIgPSB0aGlzLnZhbHVlKSkge1xuICAgICAgICAgIC8vIHAxOiBhdmFpbGFibGUgdmFsdWVcbiAgICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO31cbiAgICAgICAgZWxzZSBpZiAodW5kZWZpbmVkICE9PSAociA9IHRoaXMueHB1bGwoKSkpIHtcbiAgICAgICAgICB9Ly8gcDI6IHhwdWxsIHZhbHVlIChlLmcuIHF1ZXVlIG1lbW9yeSkgXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIHAzOiBhZGQgbmV3IHdhaXRlclxuICAgICAgICAgIHIgPSBhd2FpdCB0aGlzLl9iaW5kX3dhaXRpbmcoKTtcbiAgICAgICAgICBpZiAodGhpcy5kb25lKSB7YnJlYWt9IH1cblxuICAgICAgICB5aWVsZCB0aGlzLnhlbWl0KHIpO30gfVxuXG4gICAgZmluYWxseSB7XG4gICAgICB0aGlzLnN0b3AoKTt9IH1cblxuXG4sIC8vfn5+XG4gIC8vIGdlbmVyYXRvci1saWtlIHZhbHVlL2RvbmUgc3RhdGVzXG5cbiAgdmFsdWU6IHVuZGVmaW5lZFxuLCBkb25lOiBmYWxzZVxuXG4sIC8vfn5+XG4gIC8vIHByb21pc2UtYmFzZWQgZmVuY2UgdGFpbG9yZWQgZm9yIGFvX3BpcGUgdXNlY2FzZVxuXG4gIF93YWl0aW5nOiAwXG4sIF9mdWxmaWxsKCkge31cbiwgYXN5bmMgX3Jlc3VtZSgpIHtcbiAgICBpZiAoISB0aGlzLmRvbmUpIHthd2FpdCB0aGlzO31cblxuICAgIGxldCB7dmFsdWUsIF9mdWxmaWxsfSA9IHRoaXM7XG4gICAgaWYgKHVuZGVmaW5lZCAhPSB2YWx1ZSB8fCB0aGlzLmRvbmUpIHtcbiAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl93YWl0aW5nID0gMDtcbiAgICAgIF9mdWxmaWxsKHZhbHVlKTt9IH1cblxuLCBfYmluZF93YWl0aW5nKCkge1xuICAgIGxldCBfcmVzZXQgPSB5ID0+IHRoaXMuX2Z1bGZpbGwgPSB5O1xuICAgIHRoaXMuX2JpbmRfd2FpdGluZyA9ICgpID0+IHRoaXMuX3dhaXRpbmcgfHwoXG4gICAgICB0aGlzLl93YWl0aW5nID0gbmV3IFByb21pc2UoX3Jlc2V0KSk7XG4gICAgcmV0dXJuIHRoaXMuX2JpbmRfd2FpdGluZygpfSB9O1xuXG5cbmZ1bmN0aW9uIF9maW5fcGlwZShmaW5fbHN0KSB7XG4gIHdoaWxlICgwICE9PSBmaW5fbHN0Lmxlbmd0aCkge1xuICAgIGxldCBnID0gZmluX2xzdC5wb3AoKTtcbiAgICB0cnkge1xuICAgICAgaWYgKF9pc19mbihnKSkge2coKTt9XG4gICAgICBlbHNlIGcucmV0dXJuKCk7fVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcbiAgICAgICAgaWYgKCdHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nJyA9PT0gZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgICBjb250aW51ZX0gfVxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO30gfSB9XG5cbmNvbnN0IF9hb19waXBlX291dF9raW5kcyA9e1xuICBhb19yYXc6IGcgPT4gZ1xuLCBhb19zcGxpdDogYW9fc3BsaXRcbiwgYW9fdGFwOiBhb190YXB9O1xuXG5mdW5jdGlvbiBfYW9fcGlwZV9vdXQoYWdfb3V0LCBzZWxmLCBraW5kKSB7XG4gIGtpbmQgPSAvXmFvXy8udGVzdChraW5kKSA/IGtpbmQgOiAnYW9fJytraW5kO1xuICBsZXQgYW9fd3JhcCA9IF9hb19waXBlX291dF9raW5kc1traW5kXTtcbiAgaWYgKHVuZGVmaW5lZCA9PT0gYW9fd3JhcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm9ud24gYW9fcGlwZV9vdXQga2luZCBcIiR7a2luZH1cImApfVxuXG4gIHJldHVybiBfb2JqX2Fzc2lnbihhb193cmFwKGFnX291dCksIHNlbGYpIH1cblxuY29uc3QgX2FvX3BpcGUgPXtcbiAgX19wcm90b19fOiBfYW9fcGlwZV9iYXNlXG5cbiwgLy8geGZvbGQ6IHYgPT4gdiAtLSBvbiBwdXNoOiBpZGVudGl0eSB0cmFuc2Zvcm1cbiAgLy8geHB1bGwoKSB7fSAtLSBtZW1vcnk6IG5vbmVcbiAgLy8geGVtaXQ6IF94aW52b2tlIC0tIGlkZW50aXR5IHRyYW5zZm9ybSBvciBpbnZva2UgaWYgZnVuY3Rpb25cblxuICAvLyAqeGdmb2xkKCkgLS0gb24gcHVzaDogZ2VuZXJhdG9yLWJhc2VkIGZvbGQgaW1wbFxuICAvLyAqeHNyYygpIC0tIGZlZWQgd2l0aCBzb3VyY2UgZ2VuZXJhdG9yXG4gIC8vICp4Y3R4KGdlbl9zcmMpIC0tIG9uIGluaXQ6IGJpbmQgZXZlbnQgc291cmNlc1xuXG4gIGtpbmQ6ICdzcGxpdCdcbiwgLy9fYXNfcGlwZV9pbjogX2FvX3BpcGVfaW5cbiAgX2FzX3BpcGVfb3V0OiBfYW9fcGlwZV9vdXRcblxuLCB4aW5pdChnX2luLCBhZ19vdXQpIHtcbiAgICBsZXQgeGdmb2xkID0gdGhpcy54Z2ZvbGQ7XG4gICAgaWYgKHVuZGVmaW5lZCAhPT0geGdmb2xkKSB7XG4gICAgICB0aGlzLl9pbml0X3hnZm9sZChnX2luLCB4Z2ZvbGQpO31cblxuICAgIHRoaXMuX2luaXRfY2hhaW4oZ19pbik7fVxuXG5cbiwgX2luaXRfeGdmb2xkKGdfaW4sIHhnZm9sZCkge1xuICAgIGlmICh1bmRlZmluZWQgPT09IHhnZm9sZCkge1xuICAgICAgcmV0dXJufVxuXG4gICAgaWYgKF9pc19mbih4Z2ZvbGQpKSB7XG4gICAgICB4Z2ZvbGQgPSB4Z2ZvbGQuY2FsbCh0aGlzLCB0aGlzKTtcblxuICAgICAgaWYgKF9pc19mbih4Z2ZvbGQpKSB7XG4gICAgICAgIHRoaXMueGZvbGQgPSB4Z2ZvbGQ7XG4gICAgICAgIHJldHVybiB0cnVlfVxuXG4gICAgICB4Z2ZvbGQubmV4dCgpO31cblxuICAgIHRoaXMueGdmb2xkID0geGdmb2xkO1xuICAgIHRoaXMueGZvbGQgPSB0aGlzLl9mb2xkX2dlbjtcbiAgICB0aGlzLm9uX2Zpbih4Z2ZvbGQpO1xuICAgIHJldHVybiB0cnVlfVxuXG4sIF9mb2xkX2dlbih2KSB7XG4gICAgbGV0IHtkb25lLCB2YWx1ZX0gPSB0aGlzLnhnZm9sZC5uZXh0KHYpO1xuICAgIGlmIChkb25lKSB7dGhpcy5kb25lID0gdHJ1ZTt9XG4gICAgcmV0dXJuIHZhbHVlfVxuXG5cbiwgX2luaXRfY2hhaW4oZ19pbikge1xuICAgIGxldCB7eHNyYywgeGN0eH0gPSB0aGlzO1xuICAgIGlmICh1bmRlZmluZWQgIT09IHhzcmMpIHtcbiAgICAgIGFvX2RyaXZlKHhzcmMsIGdfaW4pXG4gICAgICAgIC50aGVuICgoKSA9PmdfaW4ucmV0dXJuKCkpOyB9XG5cbiAgICBpZiAodW5kZWZpbmVkICE9PSB4Y3R4KSB7XG4gICAgICB0aGlzLl93aXRoX2N0eChnX2luLCB4Y3R4KTt9IH1cblxuLCBfd2l0aF9jdHgoZ19pbiwgeGN0eCkge1xuICAgIGlmIChfaXNfZm4oeGN0eCkpIHtcbiAgICAgIHhjdHggPSB4Y3R4KGdfaW4pO31cblxuICAgIGlmICh4Y3R4ICYmIHhjdHgubmV4dCkge1xuICAgICAgeGN0eC5uZXh0KGdfaW4pO1xuICAgICAgdGhpcy5vbl9maW4oeGN0eCk7fVxuICAgIHJldHVybiB4Y3R4fSB9O1xuXG5jb25zdCBhb19waXBlID0gX2FvX3BpcGUuY3JlYXRlO1xuXG5mdW5jdGlvbiBhb19pbnRlcnZhbChtcz0xMDAwKSB7XG4gIGxldCBbX2ZlbmNlLCBfcmVzZXRdID0gYW9fZmVuY2VfZm4oKTtcbiAgbGV0IHRpZCA9IHNldEludGVydmFsKF9yZXNldCwgbXMsIDEpO1xuICBpZiAodGlkLnVucmVmKSB7dGlkLnVucmVmKCk7fVxuICBfZmVuY2Uuc3RvcCA9ICgoKSA9PiB7XG4gICAgdGlkID0gY2xlYXJJbnRlcnZhbCh0aWQpO1xuICAgIF9mZW5jZS5kb25lID0gdHJ1ZTt9KTtcbiAgcmV0dXJuIF9mZW5jZX1cblxuXG5mdW5jdGlvbiBhb190aW1lb3V0KG1zPTEwMDApIHtcbiAgbGV0IHRpZCwgW19mZW5jZSwgX3Jlc2V0XSA9IGFvX2ZlbmNlX2ZuKHRpbWVvdXQpO1xuICByZXR1cm4gdGltZW91dFxuXG4gIGZ1bmN0aW9uIHRpbWVvdXQoKSB7XG4gICAgdGlkID0gc2V0VGltZW91dChfcmVzZXQsIG1zLCAxKTtcbiAgICBpZiAodGlkLnVucmVmKSB7dGlkLnVucmVmKCk7fVxuICAgIHJldHVybiBfZmVuY2UoKX0gfVxuXG5cbmZ1bmN0aW9uIGFvX2RlYm91bmNlKG1zPTMwMCwgZ2VuX2luKSB7XG4gIGxldCB0aWQsIFtfZmVuY2UsIF9yZXNldF0gPSBhb19mZW5jZV9mbigpO1xuXG4gIF9mZW5jZS5maW4gPSAoKGFzeW5jICgpID0+IHtcbiAgICBsZXQgcDtcbiAgICBmb3IgYXdhaXQgKGxldCB2IG9mIF94aW52b2tlKGdlbl9pbikpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aWQpO1xuICAgICAgaWYgKF9mZW5jZS5kb25lKSB7cmV0dXJufVxuICAgICAgcCA9IF9mZW5jZSgpO1xuICAgICAgdGlkID0gc2V0VGltZW91dChfcmVzZXQsIG1zLCB2KTt9XG5cbiAgICBhd2FpdCBwO1xuICAgIF9mZW5jZS5kb25lID0gdHJ1ZTt9KSgpKTtcblxuICByZXR1cm4gX2ZlbmNlfVxuXG5cbmFzeW5jIGZ1bmN0aW9uICogYW9fdGltZXMoZ2VuX2luKSB7XG4gIGxldCB0czAgPSBEYXRlLm5vdygpO1xuICBmb3IgYXdhaXQgKGxldCB2IG9mIGdlbl9pbikge1xuICAgIHlpZWxkIERhdGUubm93KCkgLSB0czA7fSB9XG5cbmZ1bmN0aW9uIGFvX2RvbV9hbmltYXRpb24oKSB7XG4gIGxldCB0aWQsIFtfZmVuY2UsIF9yZXNldF0gPSBhb19mZW5jZV9mbihyYWYpO1xuICByYWYuc3RvcCA9ICgoKSA9PiB7XG4gICAgdGlkID0gY2FuY2VsQW5pbWF0aW9uRnJhbWUodGlkKTtcbiAgICByYWYuZG9uZSA9IHRydWU7fSk7XG4gIHJldHVybiByYWZcblxuICBmdW5jdGlvbiByYWYoKSB7XG4gICAgdGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF9yZXNldCk7XG4gICAgcmV0dXJuIF9mZW5jZSgpfSB9XG5cbmNvbnN0IF9ldnRfaW5pdCA9IFByb21pc2UucmVzb2x2ZSh7dHlwZTonaW5pdCd9KTtcbmZ1bmN0aW9uIGFvX2RvbV9saXN0ZW4ocGlwZSA9IGFvX3F1ZXVlKCkpIHtcbiAgbGV0IHdpdGhfZG9tID0gKGRvbSwgZm4pID0+XG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXJcbiAgICAgID8gX2FvX3dpdGhfZG9tKF9iaW5kLCBmbiwgZG9tKVxuICAgICAgOiBfYW9fd2l0aF9kb21fdmVjKF9iaW5kLCBmbiwgZG9tKTtcblxuICBfYmluZC5zZWxmID0ge3BpcGUsIHdpdGhfZG9tfTtcbiAgcGlwZS53aXRoX2RvbSA9IHdpdGhfZG9tO1xuICByZXR1cm4gcGlwZVxuXG4gIGZ1bmN0aW9uIF9iaW5kKGRvbSwgZm5fZXZ0LCBmbl9kb20pIHtcbiAgICByZXR1cm4gZXZ0ID0+IHtcbiAgICAgIGxldCB2ID0gZm5fZXZ0XG4gICAgICAgID8gZm5fZXZ0KGV2dCwgZG9tLCBmbl9kb20pXG4gICAgICAgIDogZm5fZG9tKGRvbSwgZXZ0KTtcblxuICAgICAgaWYgKG51bGwgIT0gdikge1xuICAgICAgICBwaXBlLmdfaW4ubmV4dCh2KTt9IH0gfSB9XG5cblxuZnVuY3Rpb24gX2FvX3dpdGhfZG9tKF9iaW5kLCBmbiwgZG9tKSB7XG4gIGxldCBfb25fZXZ0O1xuICBpZiAoX2lzX2ZuKGZuKSkge1xuICAgIF9ldnRfaW5pdC50aGVuKFxuICAgICAgX29uX2V2dCA9IF9iaW5kKGRvbSwgdm9pZCAwLCBmbikpOyB9XG5cbiAgcmV0dXJuIHtcbiAgICBfX3Byb3RvX186IF9iaW5kLnNlbGZcbiAgLCBsaXN0ZW4oLi4uYXJncykge1xuICAgICAgbGV0IG9wdCwgZXZ0X2ZuID0gX29uX2V2dDtcblxuICAgICAgbGV0IGxhc3QgPSBhcmdzLnBvcCgpO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBsYXN0KSB7XG4gICAgICAgIGV2dF9mbiA9IF9iaW5kKGRvbSwgbGFzdCwgX29uX2V2dCk7XG4gICAgICAgIGxhc3QgPSBhcmdzLnBvcCgpO31cblxuICAgICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgbGFzdCkge1xuICAgICAgICBhcmdzLnB1c2gobGFzdCk7fVxuICAgICAgZWxzZSBvcHQgPSBsYXN0O1xuXG4gICAgICBmb3IgKGxldCBldnQgb2YgYXJncykge1xuICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBldnQsIGV2dF9mbiwgb3B0KTsgfVxuXG4gICAgICByZXR1cm4gdGhpc30gfSB9XG5cblxuZnVuY3Rpb24gX2FvX3dpdGhfZG9tX3ZlYyhfYmluZCwgZm4sIGVjdHhfbGlzdCkge1xuICBlY3R4X2xpc3QgPSBBcnJheS5mcm9tKGVjdHhfbGlzdCxcbiAgICBkb20gPT4gX2FvX3dpdGhfZG9tKF9iaW5kLCBmbiwgZG9tKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBfX3Byb3RvX186IF9iaW5kLnNlbGZcbiAgLCBsaXN0ZW4oLi4uYXJncykge1xuICAgICAgZm9yIChsZXQgZWN0eCBvZiBlY3R4X2xpc3QpIHtcbiAgICAgICAgZWN0eC5saXN0ZW4oLi4uYXJncyk7fVxuICAgICAgcmV0dXJuIHRoaXN9IH0gfVxuXG5leHBvcnQgeyBfYW9fZmVuY2VfbG9vcCwgX2FvX3BpcGUsIF9hb19waXBlX2Jhc2UsIF9hb19waXBlX291dCwgX2FvX3BpcGVfb3V0X2tpbmRzLCBfYW9fdGFwLCBfeGludm9rZSwgX3hwaXBlX3RndCwgYW9fZGVib3VuY2UsIGFvX2RlZmVycmVkLCBhb19kZWZlcnJlZF92LCBhb19kb21fYW5pbWF0aW9uLCBhb19kb21fbGlzdGVuLCBhb19kcml2ZSwgYW9fZmVuY2VfZm4sIGFvX2ZlbmNlX2ZvcmssIGFvX2ZlbmNlX29iaiwgYW9fZmVuY2VfdiwgYW9faW50ZXJ2YWwsIGFvX2l0ZXIsIGFvX3BpcGUsIGFvX3F1ZXVlLCBhb19ydW4sIGFvX3NwbGl0LCBhb19zdGVwX2l0ZXIsIGFvX3N5bV9kb25lLCBhb190YXAsIGFvX3RpbWVvdXQsIGFvX3RpbWVzLCBmbl9jaGFpbiwgaXNfYW9faXRlciwgaXRlciwgc3RlcF9pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb2FwLm1qcy5tYXBcbiIsImltcG9ydCB7YW9faW50ZXJ2YWwsIGFvX3RpbWVzfSBmcm9tICdyb2FwJ1xuaW1wb3J0IHthb19kb21fbGlzdGVufSBmcm9tICdyb2FwJ1xuXG5jb25zdCBhb190Z3QgPSBhb19kb21fbGlzdGVuKClcblxuYW9fdGd0XG4gIC53aXRoX2RvbSBAIHdpbmRvd1xuICAubGlzdGVuIEAgJ3N0b3JhZ2UnLCBldnQgPT4gOjpcbiAgICBsZXQge2tleSwgb2xkVmFsdWUsIG5ld1ZhbHVlLCB1cmx9ID0gZXZ0XG4gICAgcmV0dXJuIEB7fSBrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSwgdXJsXG5cblxuOjohPlxuICBsZXQgZWxfb3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignb3V0cHV0JylcbiAgZm9yIGF3YWl0IGxldCBlIG9mIGFvX3RndCA6OlxuICAgIGNvbnNvbGUubG9nIEAgJ2FvX3RndDonLCBlXG5cbiAgICBsZXQgZWxfcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncHJlJylcbiAgICBlbF9wcmUudGV4dENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShlLCBudWxsLCAyKVxuICAgIGVsX291dHB1dC5hcHBlbmRDaGlsZChlbF9wcmUpXG5cblxuOjohPlxuICBsZXQgdGFiX2lkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMilcbiAgZm9yIGF3YWl0IGxldCB0cyBvZiBhb190aW1lcyBAIGFvX2ludGVydmFsKDEwMDApIDo6XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0gQCB0YWJfaWQsIEBbXSB0YWJfaWQsIHRzXG5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNO0FBQ04sRUFBRSxNQUFNLEVBQUUsV0FBVztBQUNyQixFQUFFLGdCQUFnQixFQUFFLFVBQVU7QUFD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
